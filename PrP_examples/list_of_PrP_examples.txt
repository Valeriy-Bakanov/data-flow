
Примеры использования 
препроцессора данной системы


1. Любой *.set файл сначала обрабатывается препроцессором,
входящим в состав программы DATA_FLOAT.EXE.

2. Результат обработки - файл *.set_PrP ; именно он
загружается в программу и выполняется.

3. В данный момент препроцессор обрабатывает операции
с одномерными псевдо-массивами (псевдо-массив представляется
набором элементов массива - переменных вида X[I], где 
X - имя псевдо-массива, I - индекс массива. Переменная X[I] 
подчиняется тем же правилам, что и любая переменная 
(однократное присваивание, если первым символом не 
является квалификатор возможности повторного присваивания).

4. Синтакс описания мАкроса одномерного FOR ("{" необязателен): 

for[I]=I1,I2,I3 {
...инструкция #1
SET I^3, m[I+3] / присваивание элементу m[I+3] значения I^3
...
...инструкция #N
}

где I1,I2,I3 - начальное и конечное значения индекса I
и шаг его изменения (константы); в квадратных скобках 
допускается использование выражений вида X[функция_от_I], 
где "функция_от_I" может включать 4 основные операции 
арифметики, получение остатка от деления (%), возведение 
в степень (^), стандартные функции sin, cos, tg, ctg, 
arcsin, arccos, arctg, arcctg, sh, ch, th, cth, exp, lg, 
ln, sqrt, поддерживаются круглые скобки любой вложенности.

Выражение "функция_от_I" будет вычислено и заменено 
препроцессором конкретным числовым значением в виде строки. 
Тело макроса повторяется в соответствие со значениями 
I1,I2,I3; в случае некорректностей макроса все инструкции  
комментируются и не окажут воздействия на выполняемую 
программу.

Внутри тела макроcа возможен вариант инструкции SET в с 
первым операндом в форме "функция_от_I".

5. Примеры:

5.1. PrP_01.SET - использование макроса FOR для присвоения
псевдо-массивам значений посредством инструкци SET и CPY.

5.2. PrP_02.SET - использование инструкции SET с вычисляемым
операндом для заполнения псевдо-массива заданными значениями.

5.3. PrP_03.SET - суммирование/перемножение значений элементов 
псевдо-массива (в целЯх лучшего понимания принципа использования
данного мАкроса операция подготовки элементов псевдо-массивов
и собственно вычисления суммы/произведения разделенЫ).

5.4. PrP_04.SET - суммирование и произведение членов ряда 1/i
(в целЯх лучшего понимания принципа использования
данного мАкроса операция подготовки элементов псевдо-массивов
и собственно вычисления суммы/произведения разделенЫ).

5.5. PrP_05.SET - вычисление числа PI суммированием 100 членов
ряда (для упрощения всё делается в ЕДИНОМ цикле).

5.6. PrP_06.SET - тестирование датчика псевдослучайных чисел.



















